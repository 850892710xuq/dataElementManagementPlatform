# 数据要素运营平台

## 项目介绍
数据要素运营平台是一个综合性的数据管理和交易平台，采用微前端架构设计，包含十大核心子系统。平台致力于解决数据流通的瓶颈问题，打通交易环节，构建完整的数据生态系统。

## 系统架构

### 技术栈
- 微前端框架：qiankun
- 主框架：Vue 3 + TypeScript
- 构建工具：Vite
- UI框架：Element Plus
- 状态管理：Pinia
- 路由管理：Vue Router
- HTTP客户端：Axios
- CSS预处理器：Sass
- 包管理工具：pnpm

### 项目结构

每个子系统遵循以下统一的目录结构:

```
data-element-platform/
├── packages/                    # 子应用目录
│   ├── main/                    # 主应用（基座）
│   │   ├── src/
│   │   │   ├── assets/          # 静态资源（图标、图片、字体等）
│   │   │   ├── components/      # 公共组件
│   │   │   │   ├── common/      # 通用组件 
│   │   │   │   ├── layout/      # 布局相关组件
│   │   │   │   └── business/    # 业务相关组件
│   │   │   ├── config/          # 全局配置
│   │   │   │   ├── settings.ts  # 系统设置
│   │   │   │   └── routes.ts    # 路由配置
│   │   │   ├── hooks/           # 全局钩子函数
│   │   │   ├── plugins/         # 插件配置
│   │   │   ├── router/          # 路由管理
│   │   │   ├── stores/          # 状态管理
│   │   │   ├── styles/          # 全局样式
│   │   │   │   ├── variables.scss  # 样式变量
│   │   │   │   ├── common.scss     # 通用样式
│   │   │   │   └── element-ui.scss # 组件库样式覆盖
│   │   │   ├── utils/           # 工具函数
│   │   │   │   ├── request.ts   # 网络请求封装
│   │   │   │   ├── auth.ts      # 权限相关
│   │   │   │   └── formatter.ts # 格式化工具
│   │   │   ├── views/           # 页面组件
│   │   │   │   ├── login/       # 登录页面
│   │   │   │   ├── dashboard/   # 仪表盘页面
│   │   │   │   └── error/       # 错误页面
│   │   │   ├── App.vue          # 根组件
│   │   │   ├── main.ts          # 入口文件
│   │   │   └── qiankun.ts       # 微前端配置
│   │   ├── public/              # 静态资源目录
│   │   ├── vite.config.ts       # Vite配置    
│   │   └── package.json         # 包配置
│   │
│ ├── portal/ # 1.门户中心子系统
│ ├── data-manage/ # 2.数据管理中心子系统
│ ├── auth-operation/ # 3.授权运营中心子系统
│ ├── data-develop/ # 4.数据开发中心子系统
│ ├── trade-manage/ # 5.交易管理中心子系统
│ ├── data-explore/ # 6.数据探查中心子系统
│ ├── third-party/ # 7.三方服务中心子系统
│ ├── general-manage/ # 8.综合管理中心子系统
│ ├── evidence-manage/ # 9.存证管理中心子系统
│ └── operation-supervision/ # 10.运营监管中心子系统
│
├── shared/ # 共享资源目录
│ ├── components/ # 共享组件库
│ ├── constants/ # 常量定义
│ ├── directives/ # 自定义指令
│ ├── hooks/ # 共享钩子函数
│ ├── styles/ # 共享样式
│ ├── stores/ # 共享状态管理
│ └── utils/ # 共享工具函数
│
├── scripts/ # 工具脚本
├── docs/ # 项目文档
├── .eslintrc.js # ESLint配置
├── .prettierrc.js # Prettier配置
├── tsconfig.json # TypeScript配置
└── package.json # 工作空间配置

## 统一设计规范

### 页面布局结构
平台采用统一的页面布局结构，确保各子系统间的一致性体验：

1. 顶部导航栏：
   - 左侧：系统logo和名称
   - 右侧：用户信息、退出登录

2. 侧边菜单：
   - 采用两级菜单结构
   - 可折叠设计，提高屏幕利用率
   - 菜单图标统一风格

3. 内容区：
   - 面包屑导航，清晰显示当前位置
   - 操作与筛选区
   - 内容主体区
   - 分页区

4. 表格组件统一风格：
   - 表头背景色：#f5f7fa
   - 表格边框：#ebeef5
   - 斑马纹颜色：#fafafa
   - 悬浮高亮：#f5f7fa

5. 表单组件统一风格：
   - 标签对齐方式：右对齐
   - 必填项标记：红色星号
   - 表单项间距：20px
   - 提示文字颜色：#909399

### 详细设计规范

#### 1. 头部布局及样式
1. 整体样式：
   - 高度：60px
   - 背景色：#2b3c53
   - 边框底部：1px solid #e4e7ed
   - 阴影效果：0 2px 4px rgba(0, 0, 0, 0.12)
   - z-index: 1000，确保始终显示在最上层

2. Logo区域：
   - 宽度：200px（与侧边菜单宽度一致）
   - 内边距：0 20px
   - Logo最大高度：40px
   - 系统名称：18px，颜色#fff，字体加粗

3. 右侧用户信息区：
   - 用户头像：圆形，直径32px
   - 用户名：14px，颜色#fff
   - 各元素水平间距：15px
   - 下拉菜单背景色：#fff
   - 下拉菜单项高度：40px
   - 下拉菜单项hover背景色：#f5f7fa

4. 顶部导航响应式设计：
   - 在小屏设备(宽度<768px)下，Logo区域宽度减小为60px，仅显示Logo图标
   - 系统名称在小屏设备下隐藏

#### 2. 左侧菜单布局及样式
1. 整体样式：
   - 宽度：展开状态200px，收起状态64px
   - 背景色：#304156
   - 最大高度：calc(100vh - 60px)，自动溢出滚动

2. 菜单项样式：
   - 一级菜单高度：56px
   - 一级菜单内边距：0 20px
   - 一级菜单字体：14px，颜色#bfcbd9
   - 一级菜单激活态：背景色#1890ff，字体颜色#fff
   - 菜单图标与文字间距：12px
   - 带子菜单的一级菜单添加右侧箭头指示

3. 子菜单样式：
   - 子菜单背景色：#1f2d3d
   - 子菜单项高度：50px
   - 子菜单项内边距：0 20px 0 40px
   - 子菜单项字体：13px，颜色#bfcbd9
   - 子菜单项激活态：字体颜色#409EFF，左侧添加3px宽蓝色条(#409EFF)标识

4. 菜单折叠控制：
   - 折叠按钮位于左侧菜单底部
   - 按钮尺寸：24px，颜色#bfcbd9
   - Hover效果：颜色变为#fff

5. 菜单滚动条样式：
   - 宽度：6px
   - 背景色：#304156
   - 滑块颜色：#909399
   - 滑块圆角：3px

#### 3. 右侧页面布局及样式
1. 整体布局：
   - 背景色：#f0f2f5
   - 内边距：20px
   - 最小高度：calc(100vh - 60px)

2. 面包屑导航：
   - 高度：40px
   - 背景色：#fff
   - 内边距：0 20px
   - 字体：14px，颜色#606266
   - 分隔符使用右箭头">"，颜色#c0c4cc
   - 当前路径颜色：#409EFF
   - 边框：1px solid #e4e7ed
   - 圆角：4px
   - 底部外边距：15px

3. 内容区域：
   - 背景色：#fff
   - 边框：1px solid #e4e7ed
   - 圆角：4px
   - 内边距：20px
   - 阴影效果：0 2px 12px 0 rgba(0, 0, 0, 0.1)

4. 查询筛选区：
   - 背景色：#fff
   - 内边距：15px 20px
   - 底部外边距：15px
   - 边框：1px solid #e4e7ed
   - 圆角：4px
   
5. 查询表单布局：
   - 表单项水平布局，每行最多4个表单项
   - 表单项宽度：根据栅格系统自适应，小屏幕下堆叠显示
   - 查询按钮组位于右侧，与表单项保持垂直居中对齐
   - 表单项与按钮间距：15px
   
6. 页面标题区：
   - 标题字体：18px，加粗，颜色#303133
   - 标题与副标题间距：8px
   - 副标题字体：14px，常规，颜色#909399
   - 标题区下边距：20px
   - 可选择添加水平分割线，颜色#e4e7ed

7. 响应式设计：
   - 内容区域内边距在中屏(768px-1200px)下调整为15px
   - 在小屏设备(宽度<768px)下调整为10px
   - 表单项在小屏设备下单列显示

#### 4. 表格/列表布局及样式
1. 表格整体样式：
   - 边框：1px solid #ebeef5
   - 圆角：4px
   - 字体：14px，颜色#606266
   - 行高：50px
   - 单元格内边距：12px 10px

2. 表头样式：
   - 背景色：#f5f7fa
   - 字体：14px，加粗，颜色#303133
   - 行高：50px
   - 边框底：1px solid #ebeef5

3. 表格行样式：
   - 边框底：1px solid #ebeef5
   - 斑马纹背景(偶数行)：#fafafa
   - 鼠标悬停背景色：#f5f7fa

4. 表格空状态：
   - 空状态图标：尺寸64px，颜色#c0c4cc
   - 空状态文字：14px，颜色#909399
   - 垂直内边距：60px

5. 列表卡片样式(适用于非表格列表)：
   - 卡片背景色：#fff
   - 边框：1px solid #e4e7ed
   - 圆角：4px
   - 内边距：15px
   - 卡片间距：15px
   - 阴影效果：0 2px 12px 0 rgba(0, 0, 0, 0.1)
   - 卡片hover效果：阴影加深为0 4px 12px 0 rgba(0, 0, 0, 0.15)

#### 5. 分页布局及样式
1. 整体布局：
   - 高度：32px
   - 上边距：15px
   - 文字与页码对齐方式：右对齐
   - 总体布局：左侧为总条数，右侧为页码控件

2. 页码控件样式：
   - 按钮尺寸：32px x 32px
   - 按钮边框：1px solid #d9d9d9
   - 按钮间距：5px
   - 按钮字体：13px，颜色#606266
   - 按钮背景色：#fff
   - 按钮hover背景色：#f5f7fa
   - 当前页按钮：背景色#409EFF，字体颜色#fff，无边框

3. 总条数文字：
   - 字体：13px，颜色#606266

4. 每页条数选择器：
   - 下拉框宽度：100px
   - 字体：13px，颜色#606266
   - 与页码控件间距：15px
   - 位于页码控件左侧

5. 响应式设计：
   - 在小屏设备(宽度<768px)下，简化页码显示，仅保留必要的前一页、后一页和当前页信息
   - 总条数文字在小屏设备下可省略

#### 6. 操作栏按钮布局及样式
1. 主操作按钮：
   - 高度：36px
   - 内边距：10px 20px
   - 字体：14px
   - 主要按钮：背景色#3370ff，字体颜色#fff
   - 成功按钮：背景色#67C23A，字体颜色#fff
   - 警告按钮：背景色#E6A23C，字体颜色#fff
   - 危险按钮：背景色#F56C6C，字体颜色#fff
   - 按钮圆角：4px
   - 按钮间距：10px
   - Hover效果：亮度提高10%

2. 次要操作按钮：
   - 高度：36px
   - 内边距：9px 15px
   - 字体：14px
   - 背景色：#fff
   - 边框：1px solid #dcdfe6
   - 字体颜色：#606266
   - 按钮圆角：4px
   - 按钮间距：10px
   - Hover效果：边框颜色#c6e2ff，文字颜色#409EFF

3. 表格行内操作按钮：
   - 采用文字按钮样式
   - 字体：13px
   - 主要操作：颜色#409EFF
   - 危险操作：颜色#F56C6C
   - 普通操作：颜色#909399
   - 按钮间分隔符：1px固定宽度垂直线，颜色#e0e0e0
   - 按钮间距：12px
   - Hover效果：文字颜色加深

4. 浮动操作按钮：
   - 固定在右下角
   - 尺寸：50px x 50px
   - 背景色：#409EFF
   - 字体颜色：#fff
   - 圆形按钮，阴影效果：0 2px 12px 0 rgba(0, 0, 0, 0.2)
   - 距离底部：30px
   - 距离右侧：30px

5. 批量操作按钮组：
   - 位于表格左上角
   - 按钮组高度：36px
   - 与表格间距：15px
   - 操作按钮禁用状态：背景色#f5f7fa，字体颜色#c0c4cc，边框颜色#e4e7ed

6. 操作按钮响应式设计：
   - 在小屏设备(宽度<768px)下，较长文字的按钮可使用图标替代
   - 紧凑模式下，按钮内边距减小为8px 12px
   - 按钮间距在紧凑模式下减小为5px

### 颜色主题
平台采用统一的色彩体系，确保视觉一致性：

1. 主题色：
   - 主色：#3370ff（蓝色）
   - 辅助色：#67C23A（成功绿）、#E6A23C（警告黄）、#F56C6C（错误红）、#909399（信息灰）

2. 中性色：
   - 主要文字：#303133
   - 常规文字：#606266
   - 次要文字：#909399
   - 占位文字：#C0C4CC
   - 边框颜色：#DCDFE6
   - 分割线颜色：#E4E7ED
   - 背景色：#F5F7FA

3. 功能色：
   - 链接色：#409EFF
   - 成功色：#67C23A
   - 警告色：#E6A23C
   - 危险色：#F56C6C
   - 信息色：#909399

### 字体规范
- 主要字体：Microsoft YaHei, PingFang SC, Helvetica Neue, Helvetica, Arial, sans-serif
- 主标题：18px, 加粗
- 次级标题：16px, 加粗
- 正文内容：14px, 常规
- 辅助文字：13px, 常规
- 小型文字：12px, 常规

## 开发指南

### 环境要求
- Node.js >= 16.14.0
- pnpm >= 8.0.0

### 安装依赖
```bash
pnpm install
```

### 启动开发服务
```bash
# 启动所有应用
pnpm dev

# 启动主应用
cd packages/main
pnpm dev

# 启动子应用（示例：数据管理中心）
cd packages/data-manage
pnpm dev
```

### 构建部署
```bash
# 构建所有应用
pnpm build

# 构建单个应用
cd packages/[app-name]
pnpm build
```

## 权限管理

### 角色设计
- 超级管理员：系统最高权限
- 运营管理员：运营相关功能权限
- 数据管理员：数据相关功能权限
- 普通用户：基础功能权限

### 权限控制
- 基于RBAC（Role-Based Access Control）模型
- 支持菜单级权限控制
- 支持按钮级权限控制
- 支持数据级权限控制

## 开发规范
- 遵循 Vue 3 组合式 API 规范
- 使用 TypeScript 进行类型检查
- 遵循 ESLint 代码规范
- 使用 Prettier 进行代码格式化
- 遵循组件化和模块化开发原则
- 保持良好的代码注释和文档说明
- 所有列表的仿真数据都在子系统src/mock下统一维护，列表上通过api接口动态加载

## 性能优化建议
1. 组件懒加载：对于复杂页面，采用组件懒加载减少初始加载时间
2. 静态资源优化：对图片等静态资源进行压缩和CDN部署
3. 微前端资源共享：优化各子应用间的资源共享，减少重复加载

### 6. 数据探查中心子系统

数据探查中心子系统主要提供对数据资源进行探查分析的功能，包括数据探查申请、探查资源管理、探查任务调度等功能模块。

#### 数据探查功能
1. 数据资源管理
   - 支持多种类型数据源（数据库、CSV、S3对象存储等）的管理
   - 提供资源创建、编辑、查看、删除等功能
   - 支持按照数据资源名称、所属行业等条件进行搜索

2. 探查任务调度管理
   - 运行任务查询：展示正在执行的探查任务
     - 包含任务ID、数据产品名称、执行进度、开始时间、预计结束时间、执行状态等信息
     - 支持按照任务ID、数据产品名称进行搜索
     - 支持按照执行进度、执行状态进行筛选
     - 提供任务移除功能，释放系统资源
   
   - 排队任务查询：展示等待执行的探查任务
     - 包含任务ID、数据产品名称、提交时间、排队位置、预计等待时间等信息
     - 支持按照任务ID、数据产品名称进行搜索
     - 支持按照提交时间进行排序
     - 实时显示任务在队列中的位置和预计等待时间

3. 数据探查结果
   - 支持多维度的数据分析和可视化展示
   - 提供数据质量评估报告
   - 支持探查结果下载和分享